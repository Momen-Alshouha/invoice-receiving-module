<div class="container my-4 p-0">
  <h3>Invoice Items</h3>

  <!-- Search and Add Section -->
  <div class="row mb-3 position-relative">
    <div class="col-md-12 p-0">
      <!-- Call onSearch with each keystroke -->

      <div class="container">
      
        <div class="row align-items-end">
          <!-- Item No Input Field -->
          <div class="col-md-3 p-0 ">
            <input
              type="text"
              class="form-control"
              placeholder="Enter Item No"
              [(ngModel)]="searchItemNo"
              (input)="onSearch(searchItemNo)"
            />
          </div>
      
          <!-- Quantity Input Field -->
          <div *ngIf="selectedItem" class="col-md-1 p-0">
            <div class="form-group p-0">
              <label for="quantity">QTY</label>
              <input
                type="text"
                placeholder="QTY"
                id="quantity"
                class="form-control"
                [(ngModel)]="quantity"
              />
            </div>
          </div>
      
          <!-- Add to Invoice Button -->
          <div *ngIf="selectedItem" class="col-md-1 p-0">
            <button class="btn btn-dark w-100" (click)="addItem()">
              Add
            </button>
          </div>
        </div>
      </div>

      
      <!-- Dropdown for search results -->
      <div
        class="col-md-3 list-group position-absolute"
        *ngIf="searchResults.length > 0"
      >
        <button
          type="button"
          class="list-group-item list-group-item-action"
          *ngFor="let item of searchResults"
          (click)="selectItem(item)"
        >
          {{ item.itemNo }}
        </button>
      </div>
    </div>
  </div>

  <!-- Invoice Items Table -->
  <table class="table table-striped table-bordered mt-4">
    <thead class="table-light">
      <tr>
        <th scope="col">Invoice ID</th>
        <th scope="col">Seq</th>
        <th scope="col">Item No</th>
        <th scope="col">Quantity</th>
        <th scope="col">FOB</th>
        <th scope="col">FOB Amount</th>
        <th scope="col">Net Amount</th>
        <th scope="col">Total Amount</th>
        <th scope="col">Serial No</th>
        <th scope="col">Serial Code</th>
        <th scope="col">Tax Type ID</th>
        <th scope="col">Tax Percentage</th>
        <th scope="col">Tax Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of invoiceItems">
        <td>{{ item.invoiceId }}</td>
        <td>{{ item.seq }}</td>
        <td>{{ item.itemNo }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.fob }}</td>
        <td>{{ item.fobAmount }}</td>
        <td>{{ item.netAmount }}</td>
        <td>{{ item.totalAmount }}</td>
        <td>{{ item.serialNo }}</td>
        <td>{{ item.serialCode }}</td>
        <td>{{ item.taxTypeId }}</td>
        <td>{{ item.taxPercentage }}%</td>
        <td>{{ item.taxAmount }}</td>
      </tr>
    </tbody>
  </table>
</div>
